version: '3'

services:
  sut:
    build: .
    depends_on:
      - lint
      - test

  lint:
    build: .
    command: pylint -rn --errors-only ./magic

  test:
    build: .
    command: pytest
